<!DOCTYPE html>
<html lang="en">
	<%- include('./partials/head.ejs') %>
	<body>
		<header>
			<a href="/"><i class="fa-solid fa-arrow-left"></i>Back to main</a>
			<h2>Portfolio</h2>
			<h1 data-name="<%=user %>"><%= user.login %></h1>
		</header>
		<main>
			<section class="repos">
				<% data.forEach(repo => { %>
				<div class="repo-card">
					<a href="<%= repo.node.url%>">
						<h3><%= repo.node.name %></h3>
						<p class="repo-description"><%= repo.node.description %></p>
						<div>
							<ul>
								<% for(const language of repo.node.languages.nodes) { %>
								<li><%= language.name %></li>
								<% } %>
							</ul>
							<p>
								<span>
									<i class="fa-solid fa-code-fork"></i> <%=repo.node.forkCount%>
								</span>
								<span>
									<% if(repo.node.stargazerCount === 0) {%>
									<i class="fa-regular fa-star"></i>
									<%=repo.node.stargazerCount%> <% } else {%>
									<i class="fa-solid fa-star"></i> <%=repo.node.stargazerCount%>
									<% } %>
								</span>
							</p>
						</div>
					</a>
				</div>
				<% }) %>
			</section>
			<a href="/?page=<%= page %>" class="more-button">Load more</a>
		</main>
	</body>
</html>
